import{_ as r,M as o,p as t,q as i,R as e,t as n,N as s,a1 as d}from"./framework-de73eade.js";const c={},l=e("h1",{id:"documentation-contributing",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#documentation-contributing","aria-hidden":"true"},"#"),n(" Documentation Contributing")],-1),p=e("div",{class:"custom-container danger"},[e("p",{class:"custom-container-title"},"DANGER"),e("p",null,"需要翻译")],-1),h={href:"https://v2.vuepress.vuejs.org/",target:"_blank",rel:"noopener noreferrer"},u=e("h2",{id:"浏览文档",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#浏览文档","aria-hidden":"true"},"#"),n(" 浏览文档")],-1),v={href:"https://ApsaraDB.github.io/PolarDB-for-PostgreSQL/",target:"_blank",rel:"noopener noreferrer"},g=e("h2",{id:"本地文档开发",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#本地文档开发","aria-hidden":"true"},"#"),n(" 本地文档开发")],-1),b={href:"https://yarnpkg.com/",target:"_blank",rel:"noopener noreferrer"},_={href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"},m=e("h3",{id:"node-环境准备",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#node-环境准备","aria-hidden":"true"},"#"),n(" Node 环境准备")],-1),f={href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"},k=d(`<p>通过 <code>curl</code> 安装 Node 版本管理器 <code>nvm</code>。</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh <span class="token operator">|</span> <span class="token function">bash</span>
<span class="token builtin class-name">command</span> <span class="token parameter variable">-v</span> nvm
</code></pre></div><p>如果上一步显示 <code>command not found</code>，那么请关闭当前终端，然后重新打开。</p><p>如果 <code>nvm</code> 已经被成功安装，执行以下命令安装 Node 的 LTS 版本：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>nvm <span class="token function">install</span> <span class="token parameter variable">--lts</span>
</code></pre></div><p>Node.js 安装完毕后，使用如下命令检查安装是否成功：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">node</span> <span class="token parameter variable">-v</span>
<span class="token function">npm</span> <span class="token parameter variable">-v</span>
</code></pre></div><p>使用 <code>npm</code> 全局安装软件包管理器 <code>yarn</code>：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">yarn</span>
<span class="token function">yarn</span> <span class="token parameter variable">-v</span>
</code></pre></div><h3 id="文档依赖安装" tabindex="-1"><a class="header-anchor" href="#文档依赖安装" aria-hidden="true">#</a> 文档依赖安装</h3><p>在 PolarDB for PostgreSQL 工程的根目录下运行以下命令，<code>yarn</code> 将会根据 <code>package.json</code> 安装所有依赖：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span>
</code></pre></div><h3 id="运行文档开发服务器" tabindex="-1"><a class="header-anchor" href="#运行文档开发服务器" aria-hidden="true">#</a> 运行文档开发服务器</h3><p>在 PolarDB for PostgreSQL 工程的根目录下运行以下命令：</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> docs:dev
</code></pre></div><p>文档开发服务器将运行于 <code>http://localhost:8080/PolarDB-for-PostgreSQL/</code>，打开浏览器即可访问。对 Markdown 文件作出修改后，可以在网页上实时查看变化。</p><h2 id="文档目录组织" tabindex="-1"><a class="header-anchor" href="#文档目录组织" aria-hidden="true">#</a> 文档目录组织</h2><p>PolarDB for PostgreSQL 的文档资源位于工程根目录的 <code>docs/</code> 目录下。其目录被组织为：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>└── docs
    ├── .vuepress
    │   ├── configs
    │   ├── public
    │   └── styles
    ├── README.md
    ├── architecture
    ├── contributing
    ├── guide
    ├── imgs
    ├── roadmap
    └── zh
        ├── README.md
        ├── architecture
        ├── contributing
        ├── guide
        ├── imgs
        └── roadmap
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，<code>docs/zh/</code> 目录下是其父级目录除 <code>.vuepress/</code> 以外的翻版。<code>docs/</code> 目录中全部为英语文档，<code>docs/zh/</code> 目录下全部是相对应的简体中文文档。</p><p><code>.vuepress/</code> 目录下包含文档工程的全局配置信息：</p><ul><li><code>config.js</code>：文档配置</li><li><code>configs/</code>：文档配置模块（导航栏 / 侧边栏、英文 / 中文等配置）</li><li><code>public/</code>：公共静态资源</li><li><code>styles/</code>：文档主题默认样式覆盖</li></ul>`,22),x={href:"https://v2.vuepress.vuejs.org/guide/configuration.html",target:"_blank",rel:"noopener noreferrer"},P=e("h2",{id:"文档开发规范",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#文档开发规范","aria-hidden":"true"},"#"),n(" 文档开发规范")],-1),D=e("li",null,"新的文档写好后，需要在文档配置中配置路由使其在导航栏和侧边栏中显示（可参考其他已有文档）",-1),N=e("li",null,"修正一种语言的文档时，也需要顺带修正其他语言的相同文档",-1),B={href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer"},j={href:"https://github.com/prettier/prettier-vscode",target:"_blank",rel:"noopener noreferrer"},S={href:"https://github.com/prettier/vim-prettier",target:"_blank",rel:"noopener noreferrer"},L=e("li",null,[n("或直接在源码根目录运行："),e("code",null,"npx prettier --write docs/")],-1),y=e("h2",{id:"文档在线部署",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#文档在线部署","aria-hidden":"true"},"#"),n(" 文档在线部署")],-1),V={href:"https://github.com/features/actions",target:"_blank",rel:"noopener noreferrer"},E=e("code",null,"docs/",-1),Q={href:"https://github.com/ApsaraDB/PolarDB-for-PostgreSQL/tree/gh-pages",target:"_blank",rel:"noopener noreferrer"},w={href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"};function A(M,C){const a=o("ExternalLinkIcon");return t(),i("div",null,[l,p,e("p",null,[n("PolarDB for PostgreSQL 的文档使用 "),e("a",h,[n("VuePress 2"),s(a)]),n(" 进行管理，以 Markdown 为中心进行写作。")]),u,e("p",null,[n("本文档在线托管于 "),e("a",v,[n("GitHub Pages"),s(a)]),n(" 服务上。")]),g,e("p",null,[n("若您发现文档中存在内容或格式错误，或者您希望能够贡献新文档，那么您需要在本地安装并配置文档开发环境。本项目的文档是一个 Node.js 工程，以 "),e("a",b,[n("Yarn"),s(a)]),n(" 作为软件包管理器。"),e("a",_,[n("Node.js®"),s(a)]),n(" 是一个基于 Chrome V8 引擎的 JavaScript 运行时环境。")]),m,e("p",null,[n("您需要在本地准备 Node.js 环境。可以选择在 Node.js 官网 "),e("a",f,[n("下载"),s(a)]),n(" 页面下载安装包手动安装，也可以使用下面的命令自动安装。")]),k,e("p",null,[n("文档的配置方式请参考 VuePress 2 官方文档的 "),e("a",x,[n("配置指南"),s(a)]),n("。")]),P,e("ol",null,[D,N,e("li",null,[n("修改文档后，使用 "),e("a",B,[n("Prettier"),s(a)]),n(" 工具对 Markdown 文档进行格式化： "),e("ul",null,[e("li",null,[n("Prettier 支持的编辑器集成： "),e("ul",null,[e("li",null,[e("a",j,[n("Prettier-VSCode"),s(a)])]),e("li",null,[e("a",S,[n("Vim-Prettier"),s(a)])])])]),L])])]),y,e("p",null,[n("本文档借助 "),e("a",V,[n("GitHub Actions"),s(a)]),n(" 提供 CI 服务。向主分支推送代码时，将触发对 "),E,n(" 目录下文档资源的构建，并将构建结果推送到 "),e("a",Q,[n("gh-pages"),s(a)]),n(" 分支上。"),e("a",w,[n("GitHub Pages"),s(a)]),n(" 服务会自动将该分支上的文档静态资源部署到 Web 服务器上形成文档网站。")])])}const R=r(c,[["render",A],["__file","contributing-polardb-docs.html.vue"]]);export{R as default};
